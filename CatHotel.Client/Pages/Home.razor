@page "/"
@using CatHotel.Client.Helper
@using CatHotel.Client.Model.ViewModel

@inject ILocalStorageService localStorage
@inject IJSRuntime jsRuntime

<PageTitle>Cat Hotel</PageTitle>

<div class="hero">
    <div class="hero-overlay">
        <div class="hero-text">
            <div class="text-center mb-4">
                <img src="img/paws.svg" alt="paws" style="width: 140px">
            </div>
            <h1 class="text-uppercase h5 fw-light">Welcome to Cat Hotel</h1>
            <p class="lead mt-3">Luxury accommodations and care for your feline friend.</p>
        </div>
    </div>
</div>

<div class="section-search">
    <div class="container">
        <EditForm Model="@HomeModel" OnValidSubmit="SaveInitialData">
            <div class="row">
                <div class="col-5">
                    <div class="input-group">
                        <InputDate @bind-Value="HomeModel.StartDate" class="form-control"
                                   InputAttributes="@(new Dictionary<string, object> { { "min", DateTime.Now.ToString("yyyy-MM-dd") } })" />
                    </div>
                </div>
                <div class="col-5">
                    <div class="input-group col-md-4">
                        <select class="form-control" @bind="HomeModel.NumberOfNights">
                            <option value="" selected>Number of Nights</option>
                            @for (var i = 1; i <= 10; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="col-2">
                    <button type="submit" class="btn btn-primary w-100" style="border-radius: 3px">Search</button>
                </div>
            </div>
        </EditForm>
    </div>
</div>

<!-- Services Section -->
<div class="section-services py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5 fw-light">Our Services</h2>
        <div class="row">
            <div class="col-md-3">
                <div class="service bg-white p-4 mb-4 shadow rounded text-center">
                    <img src="img/fish-food.svg" alt="spa" style="width: 100px;">
                    <h4 class="mt-3 text-primary fw-lighter">Gourmet Dining</h4>
                    <p>Customized meal plans with premium cat food options, catering to individual dietary needs and preferences.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="service bg-white p-4 mb-4 shadow rounded text-center">
                    <img src="img/veterinary.svg" alt="grooming" style="width: 100px;">
                    <h4 class="mt-3 text-primary fw-lighter">24/7 Veterinary Care</h4>
                    <p>On-site veterinary staff available around the clock to ensure the health and well-being of all feline guests.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="service bg-white p-4 mb-4 shadow rounded text-center">
                    <img src="img/mouse-toy.svg" alt="playtime" style="width: 100px;">
                    <h4 class="mt-3 text-primary fw-lighter">Enrichment Activities</h4>
                    <p>Daily playtime sessions, interactive toys, and climbing structures to keep cats physically and mentally stimulated.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="service bg-white p-4 mb-4 shadow rounded text-center">
                    <img src="img/cat-house.svg" alt="transport" style="width: 100px;">
                    <h4 class="mt-3 text-primary fw-lighter">Luxury Suites</h4>
                    <p>Private, spacious rooms equipped with cozy bedding, scratching posts, and panoramic windows.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Testimonials Section -->
<div class="section-testimonials py-5">
    <div class="container">
        <h2 class="text-center mb-5 fw-light">What Our Guests Say</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="testimonial bg-white p-4 mb-4 shadow rounded">
                    <p>"My cat loves staying here! The staff are amazing and the facilities are top-notch."</p>
                    <div class="text-right"><strong>- Sarah K.</strong></div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="testimonial bg-white p-4 mb-4 shadow rounded">
                    <p>"A perfect place for my furry friend. She always comes back happy and relaxed."</p>
                    <div class="text-right"><strong>- Mike D.</strong></div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="testimonial bg-white p-4 mb-4 shadow rounded">
                    <p>"The best cat hotel I've ever used. Highly recommended for all cat owners."</p>
                    <div class="text-right"><strong>- Emily W.</strong></div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<footer class="bg-dark text-white py-4">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p>&copy; 2024 Cat Hotel. All rights reserved.</p>
            </div>
            <div class="col-md-6 text-md-right">
                <a href="#" class="text-white ml-3"><img src="img/facebook.svg" alt="Facebook" style="width: 24px;"></a>
                <a href="#" class="text-white ml-3"><img src="img/twitter.svg" alt="Twitter" style="width: 24px;"></a>
                <a href="#" class="text-white ml-3"><img src="img/instagram.svg" alt="Instagram" style="width: 24px;"></a>
            </div>
        </div>
    </div>
</footer>


@code {
    public HomeViewModel HomeModel { get; set; } = new HomeViewModel();

    private async Task SaveInitialData()
    {
        try
        {
            HomeModel.EndDate = HomeModel.StartDate.AddDays(HomeModel.NumberOfNights);

            await localStorage.SetItemAsync("InitialRoomBookingInfo", HomeModel);
        } catch (Exception e)
        {
            await jsRuntime.ToastrError(e.Message);
        }
    }
}
